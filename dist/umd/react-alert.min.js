!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-transition-group","react-dom"],t):t((e=e||self).ReactAlert={},e.React,e.PropTypes,e.ReactTransitionGroup,e.ReactDOM)}(this,function(e,I,t,P,S){"use strict";var x="default"in I?I.default:I;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function D(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function A(e){var t=e.children,n=e.options,r=n.position,o=n.containerStyle,i=D(e,["children","options"]),c=I.useMemo(function(){return function(e){var t={left:0,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",pointerEvents:"none"};switch(e){case L.TOP_LEFT:return _(_({},t),{},{top:0,alignItems:"flex-start"});case L.TOP_CENTER:return _(_({},t),{},{top:0});case L.TOP_RIGHT:return _(_({},t),{},{top:0,alignItems:"flex-end"});case L.MIDDLE_LEFT:return _(_({},t),{},{top:"50%",alignItems:"flex-start"});case L.MIDDLE:return _(_({},t),{},{top:"50%"});case L.MIDDLE_RIGHT:return _(_({},t),{},{top:"50%",alignItems:"flex-end"});case L.BOTTOM_LEFT:return _(_({},t),{},{bottom:0,alignItems:"flex-start"});case L.BOTTOM_CENTER:return _(_({},t),{},{bottom:0});case L.BOTTOM_RIGHT:return _(_({},t),{},{bottom:0,alignItems:"flex-end"});default:return t}}(r)},[r]);return 0<t.length&&x.createElement("div",R({style:_(_({},c),o)},i),t)}function M(e){var t=e.children,n=e.type,r=D(e,["children","type"]);return x.createElement(P.Transition,R({},r,{timeout:250}),function(e){return x.createElement("div",{style:_(_({},s[n]),f[n][e])},t)})}function n(e){var t=e.children,n=e.offset,o=e.position,i=e.timeout,c=e.type,r=e.transition,a=e.containerStyle,u=e.template,l=e.context,s=D(e,["children","offset","position","timeout","type","transition","containerStyle","template","context"]),f=I.useRef(null),p=I.useRef(null),m=I.useRef([]),d=w(I.useState([]),2),y=d[0],O=d[1];I.useEffect(function(){f.current=document.createElement("div"),f.current.id="__react-alert__",document.body.appendChild(f.current);var e=m.current;return function(){e.forEach(clearTimeout),f.current&&document.body.removeChild(f.current)}},[]);var b=I.useCallback(function(r){O(function(e){var t=e.length,n=e.filter(function(e){return e.id!==r.id});return t>n.length&&r.options.onClose&&r.options.onClose(),n})},[]),v=I.useCallback(function(){p.current.alerts.forEach(b)},[b]),h=I.useCallback(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={id:Math.random().toString(36).substr(2,9),message:t,options:_({position:n.position||o,timeout:i,type:c},n),close:function(){return b(r)}};return r.options.timeout&&(e=setTimeout(function(){b(r),m.current.splice(m.current.indexOf(e),1)},r.options.timeout),m.current.push(e)),O(function(e){return e.concat(r)}),r.options.onOpen&&r.options.onOpen(),r},[o,b,i,c]),E=I.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=k.SUCCESS,h(e,t)},[h]),g=I.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=k.ERROR,h(e,t)},[h]),T=I.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=k.INFO,h(e,t)},[h]);p.current={alerts:y,show:h,remove:b,removeAll:v,success:E,error:g,info:T};var j,C=(j=function(e){return e.options.position},y.reduce(function(e,t){var n=j(t);return e[n]||(e[n]=[]),e[n].push(t),e},{}));return x.createElement(l.Provider,{value:p},t,f.current&&S.createPortal(x.createElement(I.Fragment,null,Object.keys(L).map(function(e){var t=L[e];return x.createElement(P.TransitionGroup,R({appear:!0,key:t,options:{position:t,containerStyle:a},component:A},s),C[t]?C[t].map(function(e){return x.createElement(M,{type:r,key:e.id},x.createElement(u,R({style:{margin:n,pointerEvents:"all"}},e)))}):null)})),f.current))}var c,a,u=I.createContext(),L={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},k={INFO:"info",SUCCESS:"success",ERROR:"error"},l={FADE:"fade",SCALE:"scale"},s=(r(c={},l.FADE,{transition:"opacity ".concat(250,"ms ease"),opacity:0}),r(c,l.SCALE,{transform:"scale(1)",transition:"all ".concat(250,"ms ease-in-out")}),c),f=(r(a={},l.FADE,{entering:{opacity:0},entered:{opacity:1}}),r(a,l.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),a);n.propTypes={offset:t.string,position:t.oneOf(Object.keys(L).map(function(e){return L[e]})),timeout:t.number,type:t.oneOf(Object.keys(k).map(function(e){return k[e]})),transition:t.oneOf(Object.keys(l).map(function(e){return l[e]})),containerStyle:t.object,template:t.oneOfType([t.element,t.func,t.elementType]).isRequired,context:t.shape({Provider:t.object,Consumer:t.object})},n.defaultProps={offset:"10px",position:L.TOP_CENTER,timeout:0,type:k.INFO,transition:l.FADE,containerStyle:{zIndex:100},context:u};e.Provider=n,e.positions=L,e.transitions=l,e.types=k,e.useAlert=function(e){var t=I.useContext(e||u);return I.useMemo(function(){return t.current},[t])},e.withAlert=function(e){var o=0<arguments.length&&void 0!==e?e:u;return function(r){function e(t,n){return x.createElement(o.Consumer,null,function(e){return x.createElement(r,R({ref:n},t,{alert:e.current}))})}return e.displayName="WithAlert(".concat(r.displayName||r.name||"Component",")"),x.forwardRef(e)}},Object.defineProperty(e,"__esModule",{value:!0})});
